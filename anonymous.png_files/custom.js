var Dimensions;var NewDimensions;var Padding;var Canvas;var Canvas2;var BgShape;var BgColorR;var BgColorG;var BgColorB;var IconColorR;var IconColorG;var IconColorB;var iconName;var LastBgSrc;function __init(f,d,h,g){Dimensions=f;NewDimensions=d;Padding=h;iconName=g;BgShape="";BgColorR=200;BgColorG=200;BgColorB=200;IconColorR=0;IconColorG=0;IconColorB=0;console.log("Customization script and UI initiated.")}function _update_var1(){NewDimensions=document.forms.main["size"].value;if(NewDimensions=="1"){Dimensions="16";document.forms.main["padding"].max="2"}else{if(NewDimensions=="2"){Dimensions="24";document.forms.main["padding"].max="6"}else{if(NewDimensions=="3"){Dimensions="32";document.forms.main["padding"].max="8"}else{if(NewDimensions=="4"){Dimensions="48";document.forms.main["padding"].max="12"}else{if(NewDimensions=="5"){Dimensions="64";document.forms.main["padding"].max="16"}else{if(NewDimensions=="6"){Dimensions="128";document.forms.main["padding"].max="32"}else{if(NewDimensions=="7"){Dimensions="256";document.forms.main["padding"].max="64"}}}}}}}SizeNum=parseFloat(Dimensions);Padding=Math.floor(SizeNum/4);if(SizeNum==16){Padding=0}if(SizeNum==24){Padding=0}if(SizeNum==32){Padding=0}if(SizeNum==48){Padding=0}if(SizeNum==64){Padding=0}if(SizeNum==128){Padding=0}if(SizeNum==256){Padding=0}document.forms.main["padding"].value=Padding;document.getElementById("PaddingPx").innerHTML=Padding+" px";document.getElementById("SizePx").innerHTML=Dimensions+" px";_canvas_redraw()}function _update_var2(){Padding=document.forms.main["padding"].value;document.getElementById("PaddingPx").innerHTML=Padding+" px";_canvas_redraw()}function _set_shape(a,b){BgShape=a;document.getElementById("Bg1").className="shape-choice";document.getElementById("Bg2").className="shape-choice";document.getElementById("Bg3").className="shape-choice";document.getElementById("Bg4").className="shape-choice";b.className="shape-choice selected";console.log("Shape changed to '"+BgShape+"'");if(a!=""){document.getElementById("BgColorOption").disabled=false}else{document.getElementById("BgColorOption").disabled=true}_canvas_redraw()}function set_bg_color(a){BgColorR=Math.round(255*a[0]).toString();BgColorG=Math.round(255*a[1]).toString();BgColorB=Math.round(255*a[2]).toString();console.log("Background color changed to {"+BgColorR+", "+BgColorG+", "+BgColorB+"}");_canvas_redraw()}function set_icon_color(a){IconColorR=Math.round(255*a[0]).toString();IconColorG=Math.round(255*a[1]).toString();IconColorB=Math.round(255*a[2]).toString();console.log("Foreground color changed to {"+BgColorR+", "+BgColorG+", "+BgColorB+"}");_canvas_redraw()}function MakeBgURL(a){var b="gd/makebg.php";b+="?i=s2/default/"+a;b+="&r="+BgColorR+"&g="+BgColorG+"&b="+BgColorB;b+="&x="+Dimensions+"&y="+Dimensions;return b}function MakeFgURL(a){var b="gd/makefg.php";b+="?i="+a;b+="&r="+IconColorR+"&g="+IconColorG+"&b="+IconColorB;return b}function _canvas_redraw(){Canvas=document.getElementById("Canvas");Canvas2=document.getElementById("Canvas2");var a='<div style="width: '+Dimensions+"px; height: "+Dimensions+'px; position: relative;">';if(BgShape!=""){if(document.getElementById("BgShapeImg")==null||LastBgSrc!=MakeBgURL(BgShape)){LastBgSrc=MakeBgURL(BgShape);console.log("Reloading BG image.");NewHTML2='<div style="width: '+Dimensions+"px; height: "+Dimensions+'px; position:relative;">';NewHTML2+='<img id="BgShapeImg" src="'+MakeBgURL(BgShape)+'" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;">';NewHTML2+="</div>";Canvas2.innerHTML=NewHTML2}}else{Canvas2.innerHTML=""}SizeNum=parseFloat(Dimensions);PaddingNum=parseFloat(Padding);NewWidthNum=(SizeNum-PaddingNum-PaddingNum);NewWidth=NewWidthNum.toString();a+='<div style="position: absolute; top: '+Padding+"px; left: "+Padding+'px; z-index: 10;">';a+='<img src="'+MakeFgURL("s2/default/"+iconName)+'" width="'+NewWidth+'">';a+="</div></div>";if(NewWidthNum<1){a="";console.log("A fault occured when drawing the canvas. Icon.Width < 0")}Canvas.innerHTML=a}function _download_icon_png(){var a="";a+="gd/png.php";a+="?size="+Dimensions;a+="&padding="+Padding;a+="&icon=s2/gd/"+iconName;a+="&in="+iconName;a+="&bgShape="+BgShape;a+="&bgColorR="+BgColorR;a+="&bgColorG="+BgColorG;a+="&bgColorB="+BgColorB;a+="&iconColorR="+IconColorR;a+="&iconColorG="+IconColorG;a+="&iconColorB="+IconColorB;window.location=a};

var jscolor={dir:"http://iconmonstr.com/wp-content/themes/iconmonstr/images/",bindClass:"color",binding:true,preloading:true,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){if(jscolor.binding){jscolor.bind()}if(jscolor.preloading){jscolor.preload()}},getDir:function(){if(!jscolor.dir){var a=jscolor.detectDir();jscolor.dir=a!==false?a:"jscolor/"}return jscolor.dir},detectDir:function(){var c=location.href;var d=document.getElementsByTagName("base");for(var a=0;a<d.length;a+=1){if(d[a].href){c=d[a].href}}var d=document.getElementsByTagName("script");for(var a=0;a<d.length;a+=1){if(d[a].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(d[a].src)){var f=new jscolor.URI(d[a].src);var b=f.toAbsolute(c);b.path=b.path.replace(/[^\/]+$/,"");b.query=null;b.fragment=null;return b.toString()}}return false},bind:function(){var d=new RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i");var f=document.getElementsByTagName("input");for(var c=0;c<f.length;c+=1){var b;if(!f[c].color&&f[c].className&&(b=f[c].className.match(d))){var g={};if(b[3]){try{g=(new Function("return ("+b[3]+")"))()}catch(a){}}f[c].color=new jscolor.color(f[c],g)}}},preload:function(){for(var a in jscolor.imgRequire){if(jscolor.imgRequire.hasOwnProperty(a)){jscolor.loadImage(a)}}},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[8,13]},imgRequire:{},imgLoaded:{},requireImage:function(a){jscolor.imgRequire[a]=true},loadImage:function(a){if(!jscolor.imgLoaded[a]){jscolor.imgLoaded[a]=new Image();jscolor.imgLoaded[a].src=jscolor.getDir()+a}},fetchElement:function(a){return typeof a==="string"?document.getElementById(a):a},addEvent:function(a,c,b){if(a.addEventListener){a.addEventListener(c,b,false)}else{if(a.attachEvent){a.attachEvent("on"+c,b)}}},fireEvent:function(a,c){if(!a){return}if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent(c,true,true);a.dispatchEvent(b)}else{if(document.createEventObject){var b=document.createEventObject();a.fireEvent("on"+c,b)}else{if(a["on"+c]){a["on"+c]()}}}},getElementPos:function(c){var d=c,b=c;var a=0,f=0;if(d.offsetParent){do{a+=d.offsetLeft;f+=d.offsetTop}while(d=d.offsetParent)}while((b=b.parentNode)&&b.nodeName.toUpperCase()!=="BODY"){a-=b.scrollLeft;f-=b.scrollTop}return[a,f]},getElementSize:function(a){return[a.offsetWidth,a.offsetHeight]},getRelMousePos:function(b){var a=0,c=0;if(!b){b=window.event}if(typeof b.offsetX==="number"){a=b.offsetX;c=b.offsetY}else{if(typeof b.layerX==="number"){a=b.layerX;c=b.layerY}}return{x:a,y:c}},getViewPos:function(){if(typeof window.pageYOffset==="number"){return[window.pageXOffset,window.pageYOffset]}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){return[document.body.scrollLeft,document.body.scrollTop]}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){return[document.documentElement.scrollLeft,document.documentElement.scrollTop]}else{return[0,0]}}}},getViewSize:function(){if(typeof window.innerWidth==="number"){return[window.innerWidth,window.innerHeight]}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){return[document.body.clientWidth,document.body.clientHeight]}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return[document.documentElement.clientWidth,document.documentElement.clientHeight]}else{return[0,0]}}}},URI:function(a){this.scheme=null;this.authority=null;this.path="";this.query=null;this.fragment=null;this.parse=function(d){var c=d.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=c[3]?c[2]:null;this.authority=c[5]?c[6]:null;this.path=c[7];this.query=c[9]?c[10]:null;this.fragment=c[12]?c[13]:null;return this};this.toString=function(){var c="";if(this.scheme!==null){c=c+this.scheme+":"}if(this.authority!==null){c=c+"//"+this.authority}if(this.path!==null){c=c+this.path}if(this.query!==null){c=c+"?"+this.query}if(this.fragment!==null){c=c+"#"+this.fragment}return c};this.toAbsolute=function(e){var e=new jscolor.URI(e);var d=this;var c=new jscolor.URI;if(e.scheme===null){return false}if(d.scheme!==null&&d.scheme.toLowerCase()===e.scheme.toLowerCase()){d.scheme=null}if(d.scheme!==null){c.scheme=d.scheme;c.authority=d.authority;c.path=b(d.path);c.query=d.query}else{if(d.authority!==null){c.authority=d.authority;c.path=b(d.path);c.query=d.query}else{if(d.path===""){c.path=e.path;if(d.query!==null){c.query=d.query}else{c.query=e.query}}else{if(d.path.substr(0,1)==="/"){c.path=b(d.path)}else{if(e.authority!==null&&e.path===""){c.path="/"+d.path}else{c.path=e.path.replace(/[^\/]+$/,"")+d.path}c.path=b(c.path)}c.query=d.query}c.authority=e.authority}c.scheme=e.scheme}c.fragment=d.fragment;return c};function b(e){var c="";while(e){if(e.substr(0,3)==="../"||e.substr(0,2)==="./"){e=e.replace(/^\.+/,"").substr(1)}else{if(e.substr(0,3)==="/./"||e==="/."){e="/"+e.substr(3)}else{if(e.substr(0,4)==="/../"||e==="/.."){e="/"+e.substr(4);c=c.replace(/\/?[^\/]*$/,"")}else{if(e==="."||e===".."){e=""}else{var d=e.match(/^\/?[^\/]*/)[0];e=e.substr(d.length);c=c+d}}}}}return c}if(a){this.parse(a)}},color:function(B,d){this.required=true;this.adjust=true;this.hash=false;this.caps=true;this.slider=true;this.valueElement=B;this.styleElement=B;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.minH=0;this.maxH=6;this.minS=0;this.maxS=1;this.minV=0;this.maxV=1;this.pickerOnfocus=true;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=true;this.pickerButtonHeight=20;this.pickerClosable=false;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=10000;for(var s in d){if(d.hasOwnProperty(s)){this[s]=d[s]}}this.hidePicker=function(){if(u()){g()}};this.showPicker=function(){if(!u()){var K=jscolor.getElementPos(B);var H=jscolor.getElementSize(B);var E=jscolor.getViewPos();var M=jscolor.getViewSize();var p=t(this);var L,J,I;switch(this.pickerPosition.toLowerCase()){case"left":L=1;J=0;I=-1;break;case"right":L=1;J=0;I=1;break;case"top":L=0;J=1;I=-1;break;default:L=0;J=1;I=1;break}var G=(H[J]+p[J])/2;if(!this.pickerSmartPosition){var F=[K[L],K[J]+H[J]-G+G*I]}else{var F=[-E[L]+K[L]+p[L]>M[L]?(-E[L]+K[L]+H[L]/2>M[L]/2&&K[L]+H[L]-p[L]>=0?K[L]+H[L]-p[L]:K[L]):K[L],-E[J]+K[J]+H[J]+p[J]-G+G*I>M[J]?(-E[J]+K[J]+H[J]/2>M[J]/2&&K[J]+H[J]-G-G*I>=0?K[J]+H[J]-G-G*I:K[J]+H[J]-G+G*I):(K[J]+H[J]-G+G*I>=0?K[J]+H[J]-G+G*I:K[J]+H[J]-G-G*I)]}k(F[L],F[J])}};this.importColor=function(){if(!a){this.exportColor()}else{if(!this.adjust){if(!this.fromString(a.value,x)){D.style.backgroundImage=D.jscStyle.backgroundImage;D.style.backgroundColor=D.jscStyle.backgroundColor;D.style.color=D.jscStyle.color;this.exportColor(x|C)}}else{if(!this.required&&/^\s*$/.test(a.value)){a.value="";D.style.backgroundImage=D.jscStyle.backgroundImage;D.style.backgroundColor=D.jscStyle.backgroundColor;D.style.color=D.jscStyle.color;this.exportColor(x|C)}else{if(this.fromString(a.value)){}else{this.exportColor()}}}}};this.exportColor=function(p){if(!(p&x)&&a){var E=this.toString();if(this.caps){E=E.toUpperCase()}if(this.hash){E="#"+E}a.value=E}if(!(p&C)&&D){D.style.backgroundImage="none";D.style.backgroundColor="#"+this.toString();D.style.color=0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]<0.5?"#FFF":"#000"}if(!(p&v)&&u()){r()}if(!(p&e)&&u()){A()}};this.fromHSV=function(G,F,E,p){if(G!==null){G=Math.max(0,this.minH,Math.min(6,this.maxH,G))}if(F!==null){F=Math.max(0,this.minS,Math.min(1,this.maxS,F))}if(E!==null){E=Math.max(0,this.minV,Math.min(1,this.maxV,E))}this.rgb=h(G===null?this.hsv[0]:(this.hsv[0]=G),F===null?this.hsv[1]:(this.hsv[1]=F),E===null?this.hsv[2]:(this.hsv[2]=E));this.exportColor(p)};this.fromRGB=function(I,H,p,E){if(I!==null){I=Math.max(0,Math.min(1,I))}if(H!==null){H=Math.max(0,Math.min(1,H))}if(p!==null){p=Math.max(0,Math.min(1,p))}var G=y(I===null?this.rgb[0]:I,H===null?this.rgb[1]:H,p===null?this.rgb[2]:p);if(G[0]!==null){this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,G[0]))}if(G[2]!==0){this.hsv[1]=G[1]===null?null:Math.max(0,this.minS,Math.min(1,this.maxS,G[1]))}this.hsv[2]=G[2]===null?null:Math.max(0,this.minV,Math.min(1,this.maxV,G[2]));var F=h(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=F[0];this.rgb[1]=F[1];this.rgb[2]=F[2];this.exportColor(E)};this.fromString=function(F,E){var p=F.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);if(!p){return false}else{if(p[1].length===6){this.fromRGB(parseInt(p[1].substr(0,2),16)/255,parseInt(p[1].substr(2,2),16)/255,parseInt(p[1].substr(4,2),16)/255,E)}else{this.fromRGB(parseInt(p[1].charAt(0)+p[1].charAt(0),16)/255,parseInt(p[1].charAt(1)+p[1].charAt(1),16)/255,parseInt(p[1].charAt(2)+p[1].charAt(2),16)/255,E)}return true}};this.toString=function(){return((256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1))};function y(I,H,E){var J=Math.min(Math.min(I,H),E);var F=Math.max(Math.max(I,H),E);var p=F-J;if(p===0){return[null,0,F]}var G=I===J?3+(E-H)/p:(H===J?5+(I-E)/p:1+(H-I)/p);return[G===6?0:G,p/F,F]}function h(H,G,E){if(H===null){return[E,E,E]}var F=Math.floor(H);var I=F%2?H-F:1-(H-F);var p=E*(1-G);var J=E*(1-G*I);switch(F){case 6:case 0:return[E,J,p];case 1:return[J,E,p];case 2:return[p,E,J];case 3:return[p,J,E];case 4:return[J,p,E];case 5:return[E,p,J]}}function g(){delete jscolor.picker.owner;document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB)}function k(L,K){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(l.pickerCloseText)};for(var I=0,J=4;I<jscolor.images.sld[1];I+=J){var H=document.createElement("div");H.style.height=J+"px";H.style.fontSize="1px";H.style.lineHeight="0";jscolor.picker.sld.appendChild(H)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var E=jscolor.picker;E.box.onmouseup=E.box.onmouseout=function(){B.focus()};E.box.onmousedown=function(){n=true};E.box.onmousemove=function(p){if(c||o){c&&w(p);o&&i(p);if(document.selection){document.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}f()}};if("ontouchstart" in window){E.box.addEventListener("touchmove",function(O){var p={offsetX:O.touches[0].pageX-j.X,offsetY:O.touches[0].pageY-j.Y};if(c||o){c&&w(p);o&&i(p);f()}O.stopPropagation();O.preventDefault()},false)}E.padM.onmouseup=E.padM.onmouseout=function(){if(c){c=false;jscolor.fireEvent(a,"change")}};E.padM.onmousedown=function(p){switch(b){case 0:if(l.hsv[2]===0){l.fromHSV(null,null,1)}break;case 1:if(l.hsv[1]===0){l.fromHSV(null,1,null)}break}o=false;c=true;w(p);f()};if("ontouchstart" in window){E.padM.addEventListener("touchstart",function(p){j={X:p.target.offsetParent.offsetLeft,Y:p.target.offsetParent.offsetTop};this.onmousedown({offsetX:p.touches[0].pageX-j.X,offsetY:p.touches[0].pageY-j.Y})})}E.sldM.onmouseup=E.sldM.onmouseout=function(){if(o){o=false;jscolor.fireEvent(a,"change")}};E.sldM.onmousedown=function(p){c=false;o=true;i(p);f()};if("ontouchstart" in window){E.sldM.addEventListener("touchstart",function(p){j={X:p.target.offsetParent.offsetLeft,Y:p.target.offsetParent.offsetTop};this.onmousedown({offsetX:p.touches[0].pageX-j.X,offsetY:p.touches[0].pageY-j.Y})})}var N=t(l);E.box.style.width=N[0]+"px";E.box.style.height=N[1]+"px";E.boxB.style.position="absolute";E.boxB.style.clear="both";E.boxB.style.left=L+"px";E.boxB.style.top=K+"px";E.boxB.style.zIndex=l.pickerZIndex;E.boxB.style.border=l.pickerBorder+"px solid";E.boxB.style.borderColor=l.pickerBorderColor;E.boxB.style.background=l.pickerFaceColor;E.pad.style.width=jscolor.images.pad[0]+"px";E.pad.style.height=jscolor.images.pad[1]+"px";E.padB.style.position="absolute";E.padB.style.left=l.pickerFace+"px";E.padB.style.top=l.pickerFace+"px";E.padB.style.border=l.pickerInset+"px solid";E.padB.style.borderColor=l.pickerInsetColor;E.padM.style.position="absolute";E.padM.style.left="0";E.padM.style.top="0";E.padM.style.width=l.pickerFace+2*l.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";E.padM.style.height=E.box.style.height;E.padM.style.cursor="default";E.sld.style.overflow="hidden";E.sld.style.width=jscolor.images.sld[0]+"px";E.sld.style.height=jscolor.images.sld[1]+"px";E.sldB.style.display=l.slider?"block":"none";E.sldB.style.position="absolute";E.sldB.style.right=l.pickerFace+"px";E.sldB.style.top=l.pickerFace+"px";E.sldB.style.border=l.pickerInset+"px solid";E.sldB.style.borderColor=l.pickerInsetColor;E.sldM.style.display=l.slider?"block":"none";E.sldM.style.position="absolute";E.sldM.style.right="0";E.sldM.style.top="0";E.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+l.pickerFace+2*l.pickerInset+"px";E.sldM.style.height=E.box.style.height;try{E.sldM.style.cursor="default"}catch(G){E.sldM.style.cursor="default"}function M(){var p=l.pickerInsetColor.split(/\s+/);var O=p.length<2?p[0]:p[1]+" "+p[0]+" "+p[0]+" "+p[1];E.btn.style.borderColor=O}E.btn.style.display=l.pickerClosable?"block":"none";E.btn.style.position="absolute";E.btn.style.left=l.pickerFace+"px";E.btn.style.bottom=l.pickerFace+"px";E.btn.style.padding="0 15px";E.btn.style.height="18px";E.btn.style.border=l.pickerInset+"px solid";M();E.btn.style.color=l.pickerButtonColor;E.btn.style.font="12px sans-serif";E.btn.style.textAlign="center";try{E.btn.style.cursor="default"}catch(G){E.btn.style.cursor="default"}E.btn.onmousedown=function(){l.hidePicker()};E.btnS.style.lineHeight=E.btn.style.height;switch(b){case 0:var F="hs.png";break;case 1:var F="hv.png";break}E.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.png')";E.padM.style.backgroundRepeat="no-repeat";E.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.png')";E.sldM.style.backgroundRepeat="no-repeat";E.pad.style.backgroundImage="url('"+jscolor.getDir()+F+"')";E.pad.style.backgroundRepeat="no-repeat";E.pad.style.backgroundPosition="0 0";r();A();jscolor.picker.owner=l;document.getElementsByTagName("body")[0].appendChild(E.boxB)}function t(E){var p=[2*E.pickerInset+2*E.pickerFace+jscolor.images.pad[0]+(E.slider?2*E.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),E.pickerClosable?4*E.pickerInset+3*E.pickerFace+jscolor.images.pad[1]+E.pickerButtonHeight:2*E.pickerInset+2*E.pickerFace+jscolor.images.pad[1]];return p}function r(){switch(b){case 0:var G=1;break;case 1:var G=2;break}var K=Math.round((l.hsv[0]/6)*(jscolor.images.pad[0]-1));var J=Math.round((1-l.hsv[G])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=(l.pickerFace+l.pickerInset+K-Math.floor(jscolor.images.cross[0]/2))+"px "+(l.pickerFace+l.pickerInset+J-Math.floor(jscolor.images.cross[1]/2))+"px";var p=jscolor.picker.sld.childNodes;switch(b){case 0:var I=h(l.hsv[0],l.hsv[1],1);for(var E=0;E<p.length;E+=1){p[E].style.backgroundColor="rgb("+(I[0]*(1-E/p.length)*100)+"%,"+(I[1]*(1-E/p.length)*100)+"%,"+(I[2]*(1-E/p.length)*100)+"%)"}break;case 1:var I,L,H=[l.hsv[2],0,0];var E=Math.floor(l.hsv[0]);var F=E%2?l.hsv[0]-E:1-(l.hsv[0]-E);switch(E){case 6:case 0:I=[0,1,2];break;case 1:I=[1,0,2];break;case 2:I=[2,0,1];break;case 3:I=[2,1,0];break;case 4:I=[1,2,0];break;case 5:I=[0,2,1];break}for(var E=0;E<p.length;E+=1){L=1-1/(p.length-1)*E;H[1]=H[0]*(1-L*F);H[2]=H[0]*(1-L);p[E].style.backgroundColor="rgb("+(H[I[0]]*100)+"%,"+(H[I[1]]*100)+"%,"+(H[I[2]]*100)+"%)"}break}}function A(){switch(b){case 0:var p=2;break;case 1:var p=1;break}var E=Math.round((1-l.hsv[p])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(l.pickerFace+l.pickerInset+E-Math.floor(jscolor.images.arrow[1]/2))+"px"}function u(){return jscolor.picker&&jscolor.picker.owner===l}function q(){if(a===B){l.importColor()}if(l.pickerOnfocus){l.hidePicker()}}function m(){if(a!==B){l.importColor()}}function w(F){var E=jscolor.getRelMousePos(F);var p=E.x-l.pickerFace-l.pickerInset;var G=E.y-l.pickerFace-l.pickerInset;switch(b){case 0:l.fromHSV(p*(6/(jscolor.images.pad[0]-1)),1-G/(jscolor.images.pad[1]-1),null,e);break;case 1:l.fromHSV(p*(6/(jscolor.images.pad[0]-1)),null,1-G/(jscolor.images.pad[1]-1),e);break}}function i(E){var p=jscolor.getRelMousePos(E);var F=p.y-l.pickerFace-l.pickerInset;switch(b){case 0:l.fromHSV(null,null,1-F/(jscolor.images.sld[1]-1),v);break;case 1:l.fromHSV(null,1-F/(jscolor.images.sld[1]-1),null,v);break}}function f(){if(l.onImmediateChange){var p;if(typeof l.onImmediateChange==="string"){p=new Function(l.onImmediateChange)}else{p=l.onImmediateChange}p.call(l)}}var l=this;var b=this.pickerMode.toLowerCase()==="hvs"?1:0;var n=false;var a=jscolor.fetchElement(this.valueElement),D=jscolor.fetchElement(this.styleElement);var c=false,o=false,j={};var x=1<<0,C=1<<1,v=1<<2,e=1<<3;jscolor.addEvent(B,"focus",function(){if(l.pickerOnfocus){l.showPicker()}});jscolor.addEvent(B,"blur",function(){if(!n){window.setTimeout(function(){n||q();n=false},0)}else{n=false}});if(a){var z=function(){l.fromString(a.value,x);f()};jscolor.addEvent(a,"keyup",z);jscolor.addEvent(a,"input",z);jscolor.addEvent(a,"blur",m);a.setAttribute("autocomplete","off")}if(D){D.jscStyle={backgroundImage:D.style.backgroundImage,backgroundColor:D.style.backgroundColor,color:D.style.color}}switch(b){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png");break}jscolor.requireImage("cross.png");jscolor.requireImage("arrow.png");this.importColor()}};jscolor.install();

(function(c,a){var d=/[<>&\r\n"']/gm;var b={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"apos;"};c.extend({fileDownload:function(n,g){var t=c.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:true},prepareCallback:function(z){},successCallback:function(z){},failCallback:function(z,A){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",popupWindowTitle:"Initiating file download...",encodeHTMLEntities:true},g);var y=new c.Deferred();var w=(navigator.userAgent||navigator.vendor||a.opera).toLowerCase();var q;var v;var f;if(/ip(ad|hone|od)/.test(w)){q=true}else{if(w.indexOf("android")!==-1){v=true}else{f=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(w)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(w.substr(0,4))}}var s=t.httpMethod.toUpperCase();if(v&&s!=="GET"){if(c().dialog){c("<div>").html(t.androidPostUnsupportedMessageHtml).dialog(t.dialogOptions)}else{alert(t.androidPostUnsupportedMessageHtml)}return y.reject()}var x=null;var l={onPrepare:function(z){if(t.preparingMessageHtml){x=c("<div>").html(t.preparingMessageHtml).dialog(t.dialogOptions)}else{if(t.prepareCallback){t.prepareCallback(z)}}},onSuccess:function(z){if(x){x.dialog("close")}t.successCallback(z);y.resolve(z)},onFail:function(z,A){if(x){x.dialog("close")}if(t.failMessageHtml){c("<div>").html(t.failMessageHtml).dialog(t.dialogOptions)}t.failCallback(z,A);y.reject(z,A)}};l.onPrepare(n);if(t.data!==null&&typeof t.data!=="string"){t.data=c.param(t.data)}var p,h,u,i;if(s==="GET"){if(t.data!==null){var r=n.indexOf("?");if(r!==-1){if(n.substring(n.length-1)!=="&"){n=n+"&"}}else{n=n+"?"}n=n+t.data}if(q||v){h=a.open(n);h.document.title=t.popupWindowTitle;a.focus()}else{if(f){a.location(n)}else{p=c("<iframe>").hide().prop("src",n).appendTo("#temp")}}}else{var k="";if(t.data!==null){c.each(t.data.replace(/\+/g," ").split("&"),function(){var z=this.split("=");var A=t.encodeHTMLEntities?j(decodeURIComponent(z[0])):decodeURIComponent(z[0]);if(A){var B=t.encodeHTMLEntities?j(decodeURIComponent(z[1])):decodeURIComponent(z[1]);k+='<input type="hidden" name="'+A+'" value="'+B+'" />'}})}if(f){i=c("<form>").appendTo("body");i.hide().prop("method",t.httpMethod).prop("action",n).html(k)}else{if(q){h=a.open("about:blank");h.document.title=t.popupWindowTitle;u=h.document;a.focus()}else{p=c("<iframe style='display: none' src='about:blank'></iframe>").appendTo("#temp");u=e(p)}u.write("<html><head></head><body><form method='"+t.httpMethod+"' action='"+n+"'>"+k+"</form>"+t.popupWindowTitle+"</body></html>");i=c(u).find("form")}i.submit()}setTimeout(m,t.checkInterval);function m(){if(document.cookie.indexOf(t.cookieName+"="+t.cookieValue)!=-1){l.onSuccess(n);document.cookie=t.cookieName+"=; expires="+new Date(1000).toUTCString()+"; path="+t.cookiePath;o(false);return}if(h||p){try{var z=h?h.document:e(p);if(z&&z.body!=null&&z.body.innerHTML.length){var C=true;if(i&&i.length){var A=c(z.body).contents().first();if(A.length&&A[0]===i[0]){C=false}}if(C){l.onFail(z.body.innerHTML,n);o(true);return}}}catch(B){l.onFail("",n);o(true);return}}setTimeout(m,t.checkInterval)}function e(z){var A=z[0].contentWindow||z[0].contentDocument;if(A.document){A=A.document}return A}function o(z){setTimeout(function(){if(h){if(v){h.close()}if(q){h.focus();if(z){h.close()}}}},0)}function j(z){return z.replace(d,function(A){return"&"+b[A]})}return y.promise()}})})(jQuery,this);

function css_browser_selector(u){var ua=u.toLowerCase(),is=function(t){return ua.indexOf(t)>-1},g='gecko',w='webkit',s='safari',o='opera',m='mobile',h=document.documentElement,b=[(!(/opera|webtv/i.test(ua))&&/msie\s(\d)/.test(ua))?('ie ie'+RegExp.$1):is('firefox/2')?g+' ff2':is('firefox/3.5')?g+' ff3 ff3_5':is('firefox/3.6')?g+' ff3 ff3_6':is('firefox/3')?g+' ff3':is('gecko/')?g:is('opera')?o+(/version\/(\d+)/.test(ua)?' '+o+RegExp.$1:(/opera(\s|\/)(\d+)/.test(ua)?' '+o+RegExp.$2:'')):is('konqueror')?'konqueror':is('blackberry')?m+' blackberry':is('android')?m+' android':is('chrome')?w+' chrome':is('iron')?w+' iron':is('applewebkit/')?w+' '+s+(/version\/(\d+)/.test(ua)?' '+s+RegExp.$1:''):is('mozilla/')?g:'',is('j2me')?m+' j2me':is('iphone')?m+' iphone':is('ipod')?m+' ipod':is('ipad')?m+' ipad':is('mac')?'mac':is('darwin')?'mac':is('webtv')?'webtv':is('win')?'win'+(is('windows nt 6.0')?' vista':''):is('freebsd')?'freebsd':(is('x11')||is('linux'))?'linux':'','js']; c = b.join(' '); h.className += ' '+c; return c;}; css_browser_selector(navigator.userAgent);

;(function(g,i,d){var a='placeholder' in i.createElement('input'),e='placeholder' in i.createElement('textarea'),j=d.fn,c=d.valHooks,l,k;if(a&&e){k=j.placeholder=function(){return this};k.input=k.textarea=true}else{k=j.placeholder=function(){var m=this;m.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':b,'blur.placeholder':f}).data('placeholder-enabled',true).trigger('blur.placeholder');return m};k.input=a;k.textarea=e;l={get:function(n){var m=d(n);return m.data('placeholder-enabled')&&m.hasClass('placeholder')?'':n.value},set:function(n,o){var m=d(n);if(!m.data('placeholder-enabled')){return n.value=o}if(o==''){n.value=o;if(n!=i.activeElement){f.call(n)}}else{if(m.hasClass('placeholder')){b.call(n,true,o)||(n.value=o)}else{n.value=o}}return m}};a||(c.input=l);e||(c.textarea=l);d(function(){d(i).delegate('form','submit.placeholder',function(){var m=d('.placeholder',this).each(b);setTimeout(function(){m.each(f)},10)})});d(g).bind('beforeunload.placeholder',function(){d('.placeholder').each(function(){this.value=''})})}function h(n){var m={},o=/^jQuery\d+$/;d.each(n.attributes,function(q,p){if(p.specified&&!o.test(p.name)){m[p.name]=p.value}});return m}function b(o,p){var n=this,q=d(n),m;if(n.value==q.attr('placeholder')&&q.hasClass('placeholder')){m=n==i.activeElement;if(q.data('placeholder-password')){q=q.hide().next().show().attr('id',q.removeAttr('id').data('placeholder-id'));if(o===true){return q[0].value=p}q.focus()}else{n.value='';q.removeClass('placeholder')}m&&n.select()}}function f(){var r,m=this,q=d(m),n=q,p=this.id;if(m.value==''){if(m.type=='password'){if(!q.data('placeholder-textinput')){try{r=q.clone().attr({type:'text'})}catch(o){r=d('<input>').attr(d.extend(h(this),{type:'text'}))}r.removeAttr('name').data({'placeholder-password':true,'placeholder-id':p}).bind('focus.placeholder',b);q.data({'placeholder-textinput':r,'placeholder-id':p}).before(r)}q=q.removeAttr('id').hide().prev().attr('id',p).show()}q.addClass('placeholder');q[0].value=q.attr('placeholder')}else{q.removeClass('placeholder')}}}(this,document,jQuery));

(function(f){var e={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper"},b=f(window),d=f(document),i=[],a=b.height(),g=function(){var j=b.scrollTop(),q=d.height(),p=q-a,l=(j>p)?p-j:0;for(var m=0;m<i.length;m++){var r=i[m],k=r.stickyWrapper.offset().top,n=k-r.topSpacing-l;if(j<=n){if(r.currentTop!==null){r.stickyElement.css("position","").css("top","").removeClass(r.className);r.stickyElement.parent().removeClass(r.className);r.currentTop=null}}else{var o=q-r.stickyElement.outerHeight()-r.topSpacing-r.bottomSpacing-j-l;if(o<0){o=o+r.topSpacing}else{o=r.topSpacing}if(r.currentTop!=o){r.stickyElement.css("position","fixed").css("top",o).addClass(r.className);r.stickyElement.parent().addClass(r.className);r.currentTop=o}}}},h=function(){a=b.height()},c={init:function(j){var k=f.extend(e,j);return this.each(function(){var l=f(this);stickyId=l.attr("id");wrapper=f("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(k.wrapperClassName);l.wrapAll(wrapper);var m=l.parent();m.css("height",l.outerHeight());i.push({topSpacing:k.topSpacing,bottomSpacing:k.bottomSpacing,stickyElement:l,currentTop:null,stickyWrapper:m,className:k.className})})},update:g};if(window.addEventListener){window.addEventListener("scroll",g,false);window.addEventListener("resize",h,false)}else{if(window.attachEvent){window.attachEvent("onscroll",g);window.attachEvent("onresize",h)}}f.fn.sticky=function(j){if(c[j]){return c[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return c.init.apply(this,arguments)}else{f.error("Method "+j+" does not exist on jQuery.sticky")}}};f(function(){setTimeout(g,0)})})(jQuery);

jQuery.autocomplete=function(d,u){var p=this;var y=jQuery(d).attr("autocomplete","off");if(u.inputClass){y.addClass(u.inputClass)}var q=document.createElement("div");var h=jQuery(q);h.hide().addClass(u.resultsClass).css("position","absolute");if(u.width>0){h.css("width",u.width)}jQuery("#search-autocomplete").append(q);d.autocompleter=p;var H=null;var x="";var I=-1;var j={};var A=false;var l=false;var a=null;function m(){j={};j.data={};j.length=0}m();if(u.data!=null){var s="",N={},n=[];if(typeof u.url!="string"){u.cacheLength=1}for(var L=0;L<u.data.length;L++){n=((typeof u.data[L]=="string")?[u.data[L]]:u.data[L]);if(n[0].length>0){s=n[0].substring(0,1).toLowerCase();if(!N[s]){N[s]=[]}N[s].push(n)}}for(var K in N){u.cacheLength++;e(K,N[K])}}y.keydown(function(i){a=i.keyCode;switch(i.keyCode){case 38:i.preventDefault();D(-1);break;case 40:i.preventDefault();D(1);break;case 9:case 13:if(F()){y.get(0).blur();i.preventDefault()}break;default:I=-1;if(H){clearTimeout(H)}H=setTimeout(function(){t()},u.delay);break}}).focus(function(){l=true}).blur(function(){l=false});v();function t(){if(a==46||(a>8&&a<32)){return h.hide()}var i=y.val();if(i==x){return}x=i;if(i.length>=u.minChars){y.addClass(u.loadingClass);C(i)}else{y.removeClass(u.loadingClass);h.hide()}}function D(k){var i=jQuery("li",q);if(!i){return}I+=k;if(I<0){I=0}else{if(I>=i.size()){I=i.size()-1}}i.removeClass("ac_over");jQuery(i[I]).addClass("ac_over")}function F(){var i=jQuery("li.ac_over",q)[0];if(!i){var k=jQuery("li",q);if(u.selectOnly){if(k.length==1){i=k[0]}}else{if(u.selectFirst){i=k[0]}}}if(i){r(i);return true}else{return false}}function r(i){if(!i){i=document.createElement("li");i.extra=[];i.selectValue=""}var k=jQuery.trim(i.selectValue?i.selectValue:i.innerHTML);d.lastSelected=k;x=k;h.html("");y.val(k);v();if(u.onItemSelect){setTimeout(function(){u.onItemSelect(i)},1)}}function b(P,k){var O=y.get(0);if(O.createTextRange){var i=O.createTextRange();i.collapse(true);i.moveStart("character",P);i.moveEnd("character",k);i.select()}else{if(O.setSelectionRange){O.setSelectionRange(P,k)}else{if(O.selectionStart){O.selectionStart=P;O.selectionEnd=k}}}O.focus()}function w(i){if(a!=8){y.val(y.val()+i.substring(x.length));b(x.length,i.length)}}function E(){var k=z(d);var i=(u.width>0)?u.width:y.width();h.css({}).show()}function c(){if(H){clearTimeout(H)}H=setTimeout(v,200)}function v(){if(H){clearTimeout(H)}y.removeClass(u.loadingClass);if(h.is(":visible")){h.hide()}if(u.mustMatch){var i=y.val();if(i!=d.lastSelected){r(null)}}}function g(k,i){if(i){y.removeClass(u.loadingClass);q.innerHTML="";if(!l||i.length==0){return v()}if(jQuery.browser.msie){h.append(document.createElement("iframe"))}q.appendChild(J(i));if(u.autoFill&&(y.val().toLowerCase()==k.toLowerCase())){w(i[0][0])}E()}else{v()}}function f(Q){if(!Q){return null}var k=[];var P=Q.split(u.lineSeparator);for(var O=0;O<P.length;O++){var R=jQuery.trim(P[O]);if(R){k[k.length]=R.split(u.cellSeparator)}}return k}function J(T){var S=document.createElement("ul");var Q=T.length;if((u.maxItemsToShow>0)&&(u.maxItemsToShow<Q)){Q=u.maxItemsToShow}for(var R=0;R<Q;R++){var U=T[R];if(!U){continue}var O=document.createElement("li");if(u.formatItem){O.innerHTML=u.formatItem(U,R,Q);O.selectValue=U[0]}else{O.innerHTML=U[0];O.selectValue=U[0]}var k=null;if(U.length>1){k=[];for(var P=1;P<U.length;P++){k[k.length]=U[P]}}O.extra=k;S.appendChild(O);jQuery(O).hover(function(){jQuery("li",S).removeClass("ac_over");jQuery(this).addClass("ac_over");I=jQuery("li",S).indexOf(jQuery(this).get(0))},function(){jQuery(this).removeClass("ac_over")}).click(function(i){i.preventDefault();i.stopPropagation();r(this)})}return S}function C(k){if(!u.matchCase){k=k.toLowerCase()}var i=u.cacheLength?M(k):null;if(i){g(k,i)}else{if((typeof u.url=="string")&&(u.url.length>0)){jQuery.get(o(k),function(O){O=f(O);e(k,O);g(k,O)})}else{y.removeClass(u.loadingClass)}}}function o(P){var k=u.url+"?q="+encodeURI(P);for(var O in u.extraParams){k+="&"+O+"="+encodeURI(u.extraParams[O])}return k}function M(T){if(!T){return null}if(j.data[T]){return j.data[T]}if(u.matchSubset){for(var R=T.length-1;R>=u.minChars;R--){var O=T.substr(0,R);var U=j.data[O];if(U){var S=[];for(var P=0;P<U.length;P++){var k=U[P];var Q=k[0];if(B(Q,T)){S[S.length]=k}}return S}}}return null}function B(P,O){if(!u.matchCase){P=P.toLowerCase()}var k=P.indexOf(O);if(k==-1){return false}return k==0||u.matchContains}this.flushCache=function(){m()};this.setExtraParams=function(i){u.extraParams=i};this.findValue=function(){var k=y.val();if(!u.matchCase){k=k.toLowerCase()}var i=u.cacheLength?M(k):null;if(i){G(k,i)}else{if((typeof u.url=="string")&&(u.url.length>0)){jQuery.get(o(k),function(O){O=f(O);e(k,O);G(k,O)})}else{G(k,null)}}};function G(T,S){if(S){y.removeClass(u.loadingClass)}var Q=(S)?S.length:0;var O=null;for(var R=0;R<Q;R++){var U=S[R];if(U[0].toLowerCase()==T.toLowerCase()){O=document.createElement("li");if(u.formatItem){O.innerHTML=u.formatItem(U,R,Q);O.selectValue=U[0]}else{O.innerHTML=U[0];O.selectValue=U[0]}var k=null;if(U.length>1){k=[];for(var P=1;P<U.length;P++){k[k.length]=U[P]}}O.extra=k}}if(u.onFindValue){setTimeout(function(){u.onFindValue(O)},1)}}function e(k,i){if(!i||!k||!u.cacheLength){return}if(!j.length||j.length>u.cacheLength){m();j.length++}else{if(!j[k]){j.length++}}j.data[k]=i}function z(k){var O=k.offsetLeft||0;var i=k.offsetTop||0;while(k=k.offsetParent){O+=k.offsetLeft;i+=k.offsetTop}return{x:O,y:i}}};jQuery.fn.autocomplete=function(b,a,c){a=a||{};a.url=b;a.data=((typeof c=="object")&&(c.constructor==Array))?c:null;a.inputClass=a.inputClass||"ac_input";a.resultsClass=a.resultsClass||"ac_results";a.lineSeparator=a.lineSeparator||"\n";a.cellSeparator=a.cellSeparator||"|";a.minChars=a.minChars||1;a.delay=a.delay||300;a.matchCase=a.matchCase||0;a.matchSubset=a.matchSubset||1;a.matchContains=a.matchContains||0;a.cacheLength=a.cacheLength||1;a.mustMatch=a.mustMatch||0;a.extraParams=a.extraParams||{};a.loadingClass=a.loadingClass||"ac_loading";a.selectFirst=a.selectFirst||false;a.selectOnly=a.selectOnly||false;a.maxItemsToShow=a.maxItemsToShow||5;a.autoFill=a.autoFill||false;a.width=parseInt(a.width,10)||0;this.each(function(){var d=this;new jQuery.autocomplete(d,a)});return this};jQuery.fn.autocompleteArray=function(b,a){return this.autocomplete(null,a,b)};jQuery.fn.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1};

(function(e,t,i){function o(i,o,n){var r=t.createElement(i);return o&&(r.id=et+o),n&&(r.style.cssText=n),e(r)}function n(){return i.innerHeight?i.innerHeight:e(i).height()}function r(e){var t=E.length,i=(j+e)%t;return 0>i?t+i:i}function l(e,t){return Math.round((/%/.test(e)?("x"===t?H.width():n())/100:1)*parseInt(e,10))}function a(e,t){return e.photo||e.photoRegex.test(t)}function h(e,t){return e.retinaUrl&&i.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function s(e){"contains"in v[0]&&!v[0].contains(e.target)&&(e.stopPropagation(),v.focus())}function d(){var t,i=e.data(A,Z);null==i?(O=e.extend({},Y),console&&console.log&&console.log("Error: cboxElement missing settings object")):O=e.extend({},i);for(t in O)e.isFunction(O[t])&&"on"!==t.slice(0,2)&&(O[t]=O[t].call(A));O.rel=O.rel||A.rel||e(A).data("rel")||"nofollow",O.href=O.href||e(A).attr("href"),O.title=O.title||A.title,"string"==typeof O.href&&(O.href=e.trim(O.href))}function c(i,o){e(t).trigger(i),ht.trigger(i),e.isFunction(o)&&o.call(A)}function u(){var e,t,i,o,n,r=et+"Slideshow_",l="click."+et;O.slideshow&&E[1]?(t=function(){clearTimeout(e)},i=function(){(O.loop||E[j+1])&&(e=setTimeout(J.next,O.slideshowSpeed))},o=function(){R.html(O.slideshowStop).unbind(l).one(l,n),ht.bind(nt,i).bind(ot,t).bind(rt,n),v.removeClass(r+"off").addClass(r+"on")},n=function(){t(),ht.unbind(nt,i).unbind(ot,t).unbind(rt,n),R.html(O.slideshowStart).unbind(l).one(l,function(){J.next(),o()}),v.removeClass(r+"on").addClass(r+"off")},O.slideshowAuto?o():n()):v.removeClass(r+"off "+r+"on")}function p(i){G||(A=i,d(),E=e(A),j=0,"nofollow"!==O.rel&&(E=e("."+tt).filter(function(){var t,i=e.data(this,Z);return i&&(t=e(this).data("rel")||i.rel||this.rel),t===O.rel}),j=E.index(A),-1===j&&(E=E.add(A),j=E.length-1)),g.css({opacity:parseFloat(O.opacity),cursor:O.overlayClose?"pointer":"auto",visibility:"visible"}).show(),V&&v.add(g).removeClass(V),O.className&&v.add(g).addClass(O.className),V=O.className,O.closeButton?P.html(O.close).appendTo(x):P.appendTo("<div/>"),$||($=q=!0,v.css({visibility:"hidden",display:"block"}),W=o(st,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(x),_=b.height()+k.height()+x.outerHeight(!0)-x.height(),D=T.width()+C.width()+x.outerWidth(!0)-x.width(),N=W.outerHeight(!0),z=W.outerWidth(!0),O.w=l(O.initialWidth,"x"),O.h=l(O.initialHeight,"y"),J.position(),u(),c(it,O.onOpen),B.add(S).hide(),v.focus(),O.trapFocus&&t.addEventListener&&(t.addEventListener("focus",s,!0),ht.one(lt,function(){t.removeEventListener("focus",s,!0)})),O.returnFocus&&ht.one(lt,function(){e(A).focus()})),w())}function f(){!v&&t.body&&(X=!1,H=e(i),v=o(st).attr({id:Z,"class":e.support.opacity===!1?et+"IE":"",role:"dialog",tabindex:"-1"}).hide(),g=o(st,"Overlay").hide(),L=e([o(st,"LoadingOverlay")[0],o(st,"LoadingGraphic")[0]]),y=o(st,"Wrapper"),x=o(st,"Content").append(S=o(st,"Title"),M=o(st,"Current"),K=e('<button type="button"/>').attr({id:et+"Previous"}),I=e('<button type="button"/>').attr({id:et+"Next"}),R=o("button","Slideshow"),L),P=e('<button type="button"/>').attr({id:et+"Close"}),y.append(o(st).append(o(st,"TopLeft"),b=o(st,"TopCenter"),o(st,"TopRight")),o(st,!1,"clear:left").append(T=o(st,"MiddleLeft"),x,C=o(st,"MiddleRight")),o(st,!1,"clear:left").append(o(st,"BottomLeft"),k=o(st,"BottomCenter"),o(st,"BottomRight"))).find("div div").css({"float":"left"}),F=o(st,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),B=I.add(K).add(M).add(R),e(t.body).append(g,v.append(y,F)))}function m(){function i(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),p(this))}return v?(X||(X=!0,I.click(function(){J.next()}),K.click(function(){J.prev()}),P.click(function(){J.close()}),g.click(function(){O.overlayClose&&J.close()}),e(t).bind("keydown."+et,function(e){var t=e.keyCode;$&&O.escKey&&27===t&&(e.preventDefault(),J.close()),$&&O.arrowKey&&E[1]&&!e.altKey&&(37===t?(e.preventDefault(),K.click()):39===t&&(e.preventDefault(),I.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+et,"."+tt,i):e("."+tt).live("click."+et,i)),!0):!1}function w(){var n,r,s,u=J.prep,p=++dt;q=!0,U=!1,A=E[j],d(),c(at),c(ot,O.onLoad),O.h=O.height?l(O.height,"y")-N-_:O.innerHeight&&l(O.innerHeight,"y"),O.w=O.width?l(O.width,"x")-z-D:O.innerWidth&&l(O.innerWidth,"x"),O.mw=O.w,O.mh=O.h,O.maxWidth&&(O.mw=l(O.maxWidth,"x")-z-D,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.maxHeight&&(O.mh=l(O.maxHeight,"y")-N-_,O.mh=O.h&&O.h<O.mh?O.h:O.mh),n=O.href,Q=setTimeout(function(){L.show()},100),O.inline?(s=o(st).hide().insertBefore(e(n)[0]),ht.one(at,function(){s.replaceWith(W.children())}),u(e(n))):O.iframe?u(" "):O.html?u(O.html):a(O,n)?(n=h(O,n),U=t.createElement("img"),e(U).addClass(et+"Photo").bind("error",function(){O.title=!1,u(o(st,"Error").html(O.imgError))}).one("load",function(){var t;p===dt&&(U.alt=e(A).attr("alt")||e(A).attr("data-alt")||"",O.retinaImage&&i.devicePixelRatio>1&&(U.height=U.height/i.devicePixelRatio,U.width=U.width/i.devicePixelRatio),O.scalePhotos&&(r=function(){U.height-=U.height*t,U.width-=U.width*t},O.mw&&U.width>O.mw&&(t=(U.width-O.mw)/U.width,r()),O.mh&&U.height>O.mh&&(t=(U.height-O.mh)/U.height,r())),O.h&&(U.style.marginTop=Math.max(O.mh-U.height,0)/2+"px"),E[1]&&(O.loop||E[j+1])&&(U.style.cursor="pointer",U.onclick=function(){J.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",setTimeout(function(){u(U)},1))}),setTimeout(function(){U.src=n},1)):n&&F.load(n,O.data,function(t,i){p===dt&&u("error"===i?o(st,"Error").html(O.xhrError):e(this).contents())})}var g,v,y,x,b,T,C,k,E,H,W,F,L,S,M,R,I,K,P,B,O,_,D,N,z,A,j,U,$,q,G,Q,J,V,X,Y={transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,trapFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0},Z="colorbox",et="cbox",tt=et+"Element",it=et+"_open",ot=et+"_load",nt=et+"_complete",rt=et+"_cleanup",lt=et+"_closed",at=et+"_purge",ht=e("<a/>"),st="div",dt=0,ct={};e.colorbox||(e(f),J=e.fn[Z]=e[Z]=function(t,i){var o=this;if(t=t||{},f(),m()){if(e.isFunction(o))o=e("<a/>"),t.open=!0;else if(!o[0])return o;i&&(t.onComplete=i),o.each(function(){e.data(this,Z,e.extend({},e.data(this,Z)||Y,t))}).addClass(tt),(e.isFunction(t.open)&&t.open.call(o)||t.open)&&p(o[0])}return o},J.position=function(t,i){function o(){b[0].style.width=k[0].style.width=x[0].style.width=parseInt(v[0].style.width,10)-D+"px",x[0].style.height=T[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-_+"px"}var r,a,h,s=0,d=0,c=v.offset();if(H.unbind("resize."+et),v.css({top:-9e4,left:-9e4}),a=H.scrollTop(),h=H.scrollLeft(),O.fixed?(c.top-=a,c.left-=h,v.css({position:"fixed"})):(s=a,d=h,v.css({position:"absolute"})),d+=O.right!==!1?Math.max(H.width()-O.w-z-D-l(O.right,"x"),0):O.left!==!1?l(O.left,"x"):Math.round(Math.max(H.width()-O.w-z-D,0)/2),s+=O.bottom!==!1?Math.max(n()-O.h-N-_-l(O.bottom,"y"),0):O.top!==!1?l(O.top,"y"):Math.round(Math.max(n()-O.h-N-_,0)/2),v.css({top:c.top,left:c.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",r={width:O.w+z+D,height:O.h+N+_,top:s,left:d},t){var u=0;e.each(r,function(e){return r[e]!==ct[e]?(u=t,void 0):void 0}),t=u}ct=r,t||v.css(r),v.dequeue().animate(r,{duration:t||0,complete:function(){o(),q=!1,y[0].style.width=O.w+z+D+"px",y[0].style.height=O.h+N+_+"px",O.reposition&&setTimeout(function(){H.bind("resize."+et,J.position)},1),i&&i()},step:o})},J.resize=function(e){var t;$&&(e=e||{},e.width&&(O.w=l(e.width,"x")-z-D),e.innerWidth&&(O.w=l(e.innerWidth,"x")),W.css({width:O.w}),e.height&&(O.h=l(e.height,"y")-N-_),e.innerHeight&&(O.h=l(e.innerHeight,"y")),e.innerHeight||e.height||(t=W.scrollTop(),W.css({height:"auto"}),O.h=W.height()),W.css({height:O.h}),t&&W.scrollTop(t),J.position("none"===O.transition?0:O.speed))},J.prep=function(i){function n(){return O.w=O.w||W.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w}function l(){return O.h=O.h||W.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h}if($){var s,d="none"===O.transition?0:O.speed;W.empty().remove(),W=o(st,"LoadedContent").append(i),W.hide().appendTo(F.show()).css({width:n(),overflow:O.scrolling?"auto":"hidden"}).css({height:l()}).prependTo(x),F.hide(),e(U).css({"float":"none"}),s=function(){function i(){e.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,l,s=E.length,u="frameBorder",p="allowTransparency";$&&(l=function(){clearTimeout(Q),L.hide(),c(nt,O.onComplete)},S.html(O.title).add(W).show(),s>1?("string"==typeof O.current&&M.html(O.current.replace("{current}",j+1).replace("{total}",s)).show(),I[O.loop||s-1>j?"show":"hide"]().html(O.next),K[O.loop||j?"show":"hide"]().html(O.previous),O.slideshow&&R.show(),O.preloading&&e.each([r(-1),r(1)],function(){var i,o,n=E[this],r=e.data(n,Z);r&&r.href?(i=r.href,e.isFunction(i)&&(i=i.call(n))):i=e(n).attr("href"),i&&a(r,i)&&(i=h(r,i),o=t.createElement("img"),o.src=i)})):B.hide(),O.iframe?(n=o("iframe")[0],u in n&&(n[u]=0),p in n&&(n[p]="true"),O.scrolling||(n.scrolling="no"),e(n).attr({src:O.href,name:(new Date).getTime(),"class":et+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",l).appendTo(W),ht.one(at,function(){n.src="//about:blank"}),O.fastIframe&&e(n).trigger("load")):l(),"fade"===O.transition?v.fadeTo(d,1,i):i())},"fade"===O.transition?v.fadeTo(d,0,function(){J.position(0,s)}):J.position(d,s)}},J.next=function(){!q&&E[1]&&(O.loop||E[j+1])&&(j=r(1),p(E[j]))},J.prev=function(){!q&&E[1]&&(O.loop||j)&&(j=r(-1),p(E[j]))},J.close=function(){$&&!G&&(G=!0,$=!1,c(rt,O.onCleanup),H.unbind("."+et),g.fadeTo(O.fadeOut||0,0),v.stop().fadeTo(O.fadeOut||0,0,function(){v.add(g).css({opacity:1,cursor:"auto"}).hide(),c(at),W.empty().remove(),setTimeout(function(){G=!1,c(lt,O.onClosed)},1)}))},J.remove=function(){v&&(v.stop(),e.colorbox.close(),v.stop().remove(),g.remove(),G=!1,v=null,e("."+tt).removeData(Z).removeClass(tt),e(t).unbind("click."+et))},J.element=function(){return e(A)},J.settings=Y)})(jQuery,document,window);

$(document).ready(function(){$("#checkbox-png").click(function(){var b=$("#btn-png").attr("onclick");b=b.replace("undefined","iconmonstr.com");$("#btn-png").attr("onclick",b)});$("#checkbox-svg").click(function(){var b=$("#btn-svg").attr("onclick");b=b.replace("undefined","s3.iconmonstr.com");$("#btn-svg").attr("onclick",b)});$(document).keydown(function(c){var b=false;if(c.which==39){b=$('.single-wrap [rel="prev"]').attr("href")}else{if(c.which==37){b=$('.single-wrap [rel="next"]').attr("href")}}if(b){window.location=b}});$(document).keydown(function(c){var b=false;if(c.which==37){b=$(".prev").attr("href")}else{if(c.which==39){b=$(".next").attr("href")}}if(b){window.location=b}});$(document).keydown(function(c){var b=false;if(c.which==39){b=$(".discover a").attr("href")}if(b){window.location=b}});$("input[type='button']").hover(function(){$("[class^='iconmonstr-btn-']").animate({"margin-top":"40px"},100)},function(){$("[class^='iconmonstr-btn-']").animate({"margin-top":"37px"},100)});$("input[type='button']").click(function(){$("[class^='iconmonstr-btn-']").animate({"margin-top":"37px"},100)});$("#btng").hover(function(){$(".iconmonstr-btng").animate({"margin-top":"11px"},100)},function(){$(".iconmonstr-btng").animate({"margin-top":"8px"},100)});$("#btng").click(function(){$(".iconmonstr-btng, .iconmonstr-loading").animate({"margin-top":"8px"},100)});$(".similar_lowres").hover(function(){$(this).animate({"margin-top":"14px"},100)},function(){$(this).animate({"margin-top":"11px"},100)});$(".thumbnail-link").hover(function(){$(this).animate({"margin-top":"40px"},100)},function(){$(this).animate({"margin-top":"37px"},100)});$(".thumbnail-grid-link").hover(function(){$(this).animate({"margin-top":"46px"},100)},function(){$(this).animate({"margin-top":"43px"},100)});$(".iframe").hover(function(){$(this).animate({"margin-top":"3px"},100)},function(){$(this).animate({"margin-top":"0px"},100)});$(function(){if($.browser.webkit){$("input, textarea").on("focus",function(){if($(this).attr("placeholder")){$(this).data("placeholder",$(this).attr("placeholder")).removeAttr("placeholder")}}).on("blur",function(){if($(this).data("placeholder")){$(this).attr("placeholder",$(this).data("placeholder")).removeData("placeholder")}})}});$("input, textarea").placeholder();$(function(){if($.browser.mozilla){$("input, textarea").on("focus",function(){$(this).attr("placeholder","")}).on("blur",function(){$(this).attr("placeholder","Search ...")})}});$("input, textarea").placeholder();$(".header-bottom").sticky({topSpacing:0,className:"sticky"});$("#s").focus(function(){$(this).val("");$(".search-reset").css("display","block")});$("#s").blur(function(){if($(this).val()==""){$(".search-reset").css("display","none")}});$(".search-reset").click(function(){$("#s").val("");$("#s").focus();$(".ac_results").css("display","none")});$(function(){$("#tabs .tab-png").addClass("active");$("#tabs .png").show();$("#tabs .tab-png").click(function(){$(this).addClass("active");$("#tabs .tab-svg").removeClass("active");$("#tabs .png").css("display","inline-block");$("#tabs .svg").hide();return false});$("#tabs .tab-svg").click(function(){$(this).addClass("active");$("#tabs .tab-png").removeClass("active");$("#tabs .svg").css("display","inline-block");$("#tabs .png").hide();return false})});$("#checkbox-png").click(function(){if($.ads==undefined){$(".support-wrap").css("display","inline-block");$(this).attr("checked",false)}else{$("#btn-png").attr("disabled",!this.checked)}});$("#checkbox-svg").click(function(){if($.ads==undefined){$(".support-wrap").css("display","inline-block");$(this).attr("checked",false)}else{$("#btn-svg").attr("disabled",!this.checked)}});$("#btng").click(function(){if($.ads==undefined){$(".support-wrap").css("display","block")}else{setTimeout("_download_icon_png();",100)}});$("input").prop("checked",false);$("input:checkbox").each(function(){$(this).before('<span class="check"></span>');if($(this).is(":checked")){$(this).prev("span").addClass("checked")}}).change(function(){$(this).prev("span").toggleClass("checked")});$(function(){if($(".paging-wrap")[0]){$(".container").css("padding-bottom","280px")}});var a;$(".logo").mouseenter(function(){var b=0;a=window.setInterval(function(){$(".iconmonstr-logo-p3").html(b);b=(b+1)%10},200)}).mouseleave(function(){window.clearInterval(a);$(".iconmonstr-logo-p3").html("0")});$("ul.gender, ul.logo-men, ul.cloud-men, ul.quote-men, ul.logo-women, ul.cloud-women, ul.quote-women").each(function(){var b,c,d=$(this).find("a");b=$(d.filter('[href="'+location.hash+'"]')[0]||d[0]);b.addClass("active");c=$(b.attr("href"));d.not(b).each(function(){$($(this).attr("href")).hide()});$(this).on("click","a",function(f){b.removeClass("active");c.hide();b=$(this);c=$($(this).attr("href"));b.addClass("active");c.show();f.preventDefault()})});$(function(){$(".iframe").colorbox({iframe:true,width:960,height:900,transition:"none",opacity:0.95,overlayClose:false,close:"<i class='iconmonstr-menu-x2'>"})});$(document).bind("cbox_load",function(){$("body").addClass("noscroll")});$(document).bind("cbox_cleanup",function(){$("body").removeClass("noscroll")});$(".white-canvas-circle").click(function(){$(".canvas-out-wrap").css("background-color","#fff");$(".black-canvas-circle").css({width:"28px",height:"28px","border-width":"0"});$(this).css({width:"26px",height:"26px","border-width":"1px"});$(".canvas-back-btn").removeClass("white")});$(".black-canvas-circle").click(function(){$(".canvas-out-wrap").css("background-color","#000");$(".white-canvas-circle").css({width:"28px",height:"28px","border-width":"0"});$(this).css({width:"26px",height:"26px","border-width":"1px"});$(".canvas-back-btn").addClass("white")});$(document).on("click","#btng",function(){$.fileDownload($(this).prop("href")).done(function(){$(".loading-wrap").fadeOut(100)}).fail(function(){alert("File download failed!")});return false});$("#btng").click(function(){$(".loading-wrap").fadeIn(100).css("display","inline-block")})});